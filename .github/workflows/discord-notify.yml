name: GitHub â†’ Discord

# Event à¸—à¸µà¹ˆ trigger workflow
on:
  push:
    branches:
      - main           # à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸²à¸¡ branch à¸‚à¸­à¸‡ repo
  pull_request:
    types: [opened, closed]
  release:
    types: [published]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Send notification to Discord
        uses: Ilshidur/action-discord@v2
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          args: |
            {
              "username": "GitHub Bot",
              "embeds": [
                {
                  "title": "ðŸ“¢ GitHub Update",
                  "description": "Repository: **${{ github.repository }}**\nAction: **${{ github.event_name }}**\nUser: **${{ github.actor }}**\nCommit/PR/Release: `${{ github.sha }}`",
                  "color": 7506394
                }
              ]
            }
